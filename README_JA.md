# Pitch Monitor Piano App (ピアノアプリ)

**Svelte 5** と **Tauri** で構築された、モダンで多機能なバーチャルピアノアプリケーションです。ミュージシャンや趣味でピアノを弾く方のために設計されており、レスポンシブな演奏体験、MIDIサポート、そして内蔵のピッチ検出ツールを提供します。

[English version](README.md)

[Demo](https://akeit0.github.io/pitch-monitor-piano-app/)

![Piano App Icon](apps/src/lib/assets/piano.svg)

## 主な機能

### 🎹 バーチャルピアノ
- **レスポンシブ・キーボード**: マウス、タッチ、そしてPCキーボードでの演奏に対応したスムーズな鍵盤。
- **PCキーボード演奏**: パソコンのキーボードを使ってピアノを演奏可能。
- **オーディオエンジン**: `webaudiofont` を使用した高品質なサウンド再生。

### 🎛️ 詳細コントロール（設定）
- **キーボード範囲の調整**: プリセット（88鍵、61鍵、49鍵、42鍵、26鍵）またはカスタム範囲設定が可能。
- **トランスポーズ（移調）**: 半音単位でピッチを上下に変更可能（-12 ～ +12）。
- **自動保存**: **トランスポーズ設定**、**キーボード範囲**、**キー割り当て** は自動的にデータベースに保存され、次回起動時に復元されます。

### 🔌 MIDI 対応
- **プラグ＆プレイ**: 接続されたMIDIデバイスを自動検出します。
- **入力選択**: インターフェースから使用するMIDIデバイスを選択可能。

### 🎤 ピッチ検出（チューナー機能）
- **リアルタイム分析**: マイク入力から検出されたピッチ（音程）を視覚化します。
- **セント・メーター**: 音名とセント単位のズレ（フラット/シャープ）を表示する精密なチューナー表示。

### ⌨️ キー割り当て（キーマップ） & カスタマイズ
- **カスタム・キーマップ**: 任意のPCキーを任意のピアノの音に割り当て可能。
- **インポート/エクスポート**: 作成したキー配置をテキストファイルとして保存したり、読み込んだりできます。
- **デフォルト・プリセット**: 標準の使いやすい配置にリセット可能。

## 技術スタック

- **フロントエンド**: Svelte 5, TypeScript, Vite
- **デスクトップフレームワーク**: Tauri 2 (Rust)
- **オーディオ**: Web Audio API
- **ストレージ**: IndexedDB (設定の永続化に使用)

## セットアップ方法

### 前提条件
- Node.js がインストールされていること
- Rust/Cargo がインストールされていること（Tauriデスクトップアプリ用）

### インストール

1. リポジトリをクローンします:
   ```bash
   git clone <repository-url>
   cd piano-app/apps
   ```

2. 依存関係をインストールします:
   ```bash
   npm install
   ```

### アプリの実行

**Webブラウザ版:**
```bash
npm run dev
```

**デスクトップ版 (Tauri):**
```bash
npm run tauri dev
```

**GitHub Pages 用ビルド:**
自動化されたスクリプトを使用できます (Windows/Mac/Linux共通):
```bash
npm run build:github
```
これにより、`../docs` フォルダにビルド成果物が出力されます。

## ライセンス

Unlicense
